
{% extends "WalidBlogBundle::layout.html.twig" %}

{% block title %}{{ parent() }} - Index{% endblock %}


  {% block body %}

    <h1>Liste des articles</h1>

    <p>
      {# On affiche tous les messages flash dont le nom est « info » #}
      {% for message in app.session.flashbag.get('notice') %}
        <p>Message flash : {{ message }}</p>
      {% endfor %}
    </p>


    <dl class='dl-horizontal'>
      {%for article in listArticles %}
      <dt>{{ article.getTitle()}}</dt>
      <dd><a href="{{ path('walid_blog_view', {'id' : article.getId()}) }}">Voir </a></dd>
      <dd><a href="{{ path('walid_blog_edit', {'id' : article.getId()}) }}">Editer </a></dd>
      <dd><a href="{{ path('walid_blog_delete', {'id' : article.getId()}) }}"> Supprimer</a></dd>
    {% endfor %}
  </dl>

  {% if nbPages > 1 %}
    <ul class="pagination">
      {# On utilise la fonction range(a, b) qui crée un tableau de valeurs entre a et b #}
      {% for p in range(1, nbPages) %}
        <li{% if p == page %} class="active"{% endif %}>
        {% if p != 0 %}
          <a href="{{ path('walid_blog_home', {'page': p}) }}">{{ p }}</a>
        {% endif %}
      </li>
    {% endfor %}
  </ul>
{% endif %}

<a href="{{ path('walid_blog_add') }}" class='btn'>Ajouter un article</a>

{% endblock %}
